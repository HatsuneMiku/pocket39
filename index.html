<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <title>pocket39 by HatsuneMiku</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>pocket39</h1>
        <h2>pocket39</h2>

        <section id="downloads">
          <a href="https://github.com/HatsuneMiku/pocket39/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/HatsuneMiku/pocket39/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/HatsuneMiku/pocket39" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h1>
<a name="pocket39" class="anchor" href="#pocket39"><span class="octicon octicon-link"></span></a>Pocket39</h1>

<h2>
<a name="pocket-miku" class="anchor" href="#pocket-miku"><span class="octicon octicon-link"></span></a>Pocket Miku</h2>

<ul>
<li>ポケット・ミク <a href="http://otonanokagaku.net/nsx39/">NSX-39</a> GAKKEN 大人の科学 特別編集</li>
</ul><h2>
<a name="%E3%81%AA%E3%81%AB%E3%81%93%E3%82%8C--aeff480r" class="anchor" href="#%E3%81%AA%E3%81%AB%E3%81%93%E3%82%8C--aeff480r"><span class="octicon octicon-link"></span></a>なにこれ？ / AEFF480R</h2>

<p>CEG[C240]R</p>

<p>うたうキーボード / CEG[C240]G240E240C240E240G240R360</p>

<p>( <a href="http://otonanokagaku.net/nsx39/">NSX-39</a> )</p>

<p>ポケミク こと ポケット・ミク / FA[CFC]AFA[CFC240]A240R360</p>

<p>さんにひらがなで書いたテキストを読んで(喋って)もらうソフトです。</p>

<p>楽譜を一行ごとに並列に書き込んでおくことで、テキストファイルの歌詞を歌ってもらうことも出来ます。</p>

<p>標準機能である「歌詞のプリセット」の文字数制限(64文字:スロットが15個あるのでボタンを切り替えれば最大960文字まで記憶出来るそうです。)を気にせずに、ほぼ無限に歌ってもらえます。</p>

<h2>
<a name="%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%8C%E3%81%84--gggdcr" class="anchor" href="#%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%8C%E3%81%84--gggdcr"><span class="octicon octicon-link"></span></a>ファイルれい / GGGDCR</h2>

<p>F#A#[C#F#240]R</p>

<p>曲ファイル hotarunohikari.p39 の一部です。</p>

<pre><code>ほたるのひかり / ]B=240[E=360E=E=240G240F360=0=F240
    まどのゆき / G120=0=E=240E=240G240#0#0#240[C600]R
# (中略)
あけてぞけさは / [C240]B=360GG240E=240F360=0=F240
    わかれゆく / G120=0=E=360=0=C240]B=240[E=600R
# (中略)
つくしのきわみ / E=240A=360A=A=240[C240]B=360=B=R
    みちのおく / [C120=0=]A=240A=240[C240#0#0#240F600]R
# (中略)
ひとつにつくせ / [F240E=360CC240]A=240B=360=B=240
    くにのため / [C120=0=]A=360=0=F240E=240A=600R
# (中略)
ちしまのおくも / E=240A=360A=A=240[C240]B=360=B=R
    おきなわも / [C120=0=]A=240A=240[C240#0#0#240F600]R
# (中略)
つとめよわがせ / [F240E=360CC240]A=240B=360=B=240
    つつがなく / [C120=0=]A=360=0=F240E=240A=600R
</code></pre>

<h2>
<a name="%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB--cbaf240br" class="anchor" href="#%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB--cbaf240br"><span class="octicon octicon-link"></span></a>インストール / [C]B=A[F240]B=R</h2>

<p>E#G#B#[E#240]R</p>

<p>※プロジェクトの zip ファイルの方に、最新の exe が置いてあります。(必要に応じて md5 の確認も行ってください。)</p>

<p>そのままで使えますが、自分でコンパイルしたいひとは <a href="http://www.digitalmars.com/d/download.html">dmc</a> を使用してください。</p>

<p>開発は dmc 8.42n / Windows 8 で動作確認していますが、 Windows XP / Vista / 7 / 8.1 でも動くと思います。</p>

<p>(今は Windows 用のコードしかありませんが、将来別の環境でも作るかもしれません。)</p>

<p>※ cmd.exe を UTF-8 が使える状態で起動してください。参照 ( <a href="http://nazochu.blogspot.jp/2011/08/blog-post_26.html">コマンドプロンプトでUTF-8を表示</a> )</p>

<p>(テキストファイルを読み込んで演奏するだけであれば、設定変更していない cmd.exe でも動作します。)</p>

<h2>
<a name="%E3%81%86%E3%81%9F%E3%81%84%E3%81%8B%E3%81%9F--ggbba360r" class="anchor" href="#%E3%81%86%E3%81%9F%E3%81%84%E3%81%8B%E3%81%9F--ggbba360r"><span class="octicon octicon-link"></span></a>うたいかた / GGBBA360R</h2>

<p>E=G=B=[E=240]R</p>

<pre><code>&gt; pocket39
[CDEFG
きょうは、ぽけっとみくのつかいかたをせつめいします。
ぽけみくは、おおえすのひょうじゅんにゅうりょくを、よみあげます。
つまりこういうことです。
^Z
&gt; echo ミクダヨー / [CEG[C480]R480 | pocket39
&gt; echo ボクはうまれ そしてきづく しょせん ヒトのまねごとだと / G#40G#40G#40 G#40G#40G#40 G#40G#40G#40 G#40G#40G#40 G#40G#40G#40 G#40G#40G#40 G#40G#40G#40 G#40G#40G#40 R480 | pocket39
&gt; pocket39
おんていもつけられます。 / CEG[CEG[C]]GC]G[C480R
うたうこともできます。 / CFAF[CF]B=FE=]B=480[R
^Z
&gt; pocket39 &lt; fuji3.p39
</code></pre>

<p>※こういうことはしないでください。</p>

<pre><code>&gt; pocket39 &lt; README.md
</code></pre>

<p>( aike さんの <a href="http://aikelab.net/mikugo/">ミク語変換</a>
や <a href="http://mecab.googlecode.com/svn/trunk/mecab/doc/index.html">MeCab</a>
と組み合わせれば色々できそう。 )</p>

<h2>
<a name="%E3%82%A8%E3%82%AF%E3%82%BB%E3%83%AB%E3%81%A7%E3%81%86%E3%81%9F%E3%81%86--bgec360r" class="anchor" href="#%E3%82%A8%E3%82%AF%E3%82%BB%E3%83%AB%E3%81%A7%E3%81%86%E3%81%9F%E3%81%86--bgec360r"><span class="octicon octicon-link"></span></a>エクセルでうたう / B#GEC360R</h2>

<p>kaerunouta.xls</p>

<p>zip 同梱の p39lib.dll を 環境変数 PATH のある場所に置くか windows の 32bit 用のシステムディレクトリ (例えば 64bit OS のときは C:\Windows\SysWOW64 あるいは 32bit OS のときは C:\Windows\System32 ) にコピー。あとエクセルの方でセキュリティの設定を「中」のマクロ有効にしてください。</p>

<h2>
<a name="%E3%82%82%E3%81%8F%E3%81%B2%E3%82%87%E3%81%86--dgcg480r" class="anchor" href="#%E3%82%82%E3%81%8F%E3%81%B2%E3%82%87%E3%81%86--dgcg480r"><span class="octicon octicon-link"></span></a>もくひょう / DGCG480R</h2>

<p>EA[C#E#240]R</p>

<ul>
<li>マニュアル作る (楽譜は MML もどきですが今のところ互換性は無いです。検討中。)</li>
<li>パラメータの最大値最小値チェック</li>
<li>初期化時の MIDI Message (テンポ・ボリューム等)</li>
<li>開始前の無音期間指定</li>
<li>コーラスとかハモりとか</li>
<li>RPN とか CC 送る？ (ミクの声は pitch bend sensitivity のデフォルト値が違う)</li>
<li>ベロシティも各音または任意の位置で指定出来るようにしたい</li>
<li>ビブラートとかポルタメントとかかけたい モジュレーションでOK?</li>
<li>pitch bend の時の前の音との繋がりを考慮して envelope 出力する</li>
<li>Sleep() でタイミングが適当なので FIFO 経由して timer thread で出力する予定</li>
<li>note off は毎回ちゃんと送るべき？ 減衰系以外の楽器にすると鳴りっぱなしという</li>
<li>歌詞データは一音ずつ送るより休止期間中にある程度まとめて送った方が良いらしい</li>
<li>子音の発声は他のチャンネルよりもタイミングを早める方が良いらしい</li>
<li>SMF ファイルの出力 あるいは .SMF &lt;-&gt; .p39 コンバータ造る</li>
<li>.p39 ファイルにテンポ指定とかその他(発声以外の楽器指定とかコーラスとか)</li>
<li>声以外の楽器にも対応したい</li>
<li>ここまでするなら素直に MIDI シーケンサー や コントローラ で・・・</li>
<li>オフセット指定サポートで曲全体のキーを変えられるような・・・</li>
<li>歌詞と楽譜を一音ずつ混在する記述「あC240いE120うG60」をサポート予定</li>
<li>音の長さを「ー」の数で指定するとか</li>
<li>あとで com サーバーにしてみる</li>
<li>VST プラグインにも出来る？</li>
<li>PC から時刻を拾って時報を 歌わせる うたってもらう</li>
<li>NSX-39 が接続されていないときの発声(CH1)が単調なので適当なリズム付けたい</li>
<li>ソースが pocket39.exe 用と p39lib.dll 用で別れてしまったので整理して統合</li>
<li>たぶんバグいっぱい</li>
</ul><h2>
<a name="%E3%81%B3%E3%81%93%E3%81%86%E3%82%89%E3%82%93--eggdc360r" class="anchor" href="#%E3%81%B3%E3%81%93%E3%81%86%E3%82%89%E3%82%93--eggdc360r"><span class="octicon octicon-link"></span></a>びこうらん / EGGDC360R</h2>

<p>[C]GEC240R</p>

<ul>
<li>BSD license</li>
<li>python フォルダ内のファイルは各種テスト用です。</li>
<li>( <a href="http://www2s.biglobe.ne.jp/%7Eyyagi/material/smfspec.html">about Standard MIDI format</a> ) SMF についてとても判り易いサイトでした。サイトの著者に感謝いたします。</li>
<li>( <a href="http://openmidiproject.sourceforge.jp/">OpenMIDI project</a> ) は必須ではありませんが、あると便利。</li>
</ul>
      </section>
    </div>

    
  </body>
</html>